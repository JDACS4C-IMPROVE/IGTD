# IGTD
Image Generator for Tabular Data (IGTD) transforms tabular data into images and uses Convolutional Neural Networks (CNNs) to model image data and make predictions.


## Structure
IGTD transforms tabular data into images. The algorithm assigns each feature to a pixel in the image. According to the assignment, an image is generated for each data sample, in which the pixel intensity reflects the value of the corresponding feature in the sample. The algorithm searches for an optimized assignment of features to pixels, so that similar features are assigned to neighboring pixels and dissimilar features are assigned to pixels that are far apart. For the sbusequent prediction modeling, CNNs are trained using the generated images to make predictions. The provided code allows the input of one or more data modalities. The images of each data modality is first input into multiple convolution layers for embedding. Then the embeddings of multiple data modalities are concatenated and forwarded to multiple dense layers to make prediction. To use IGTD for anti-cancer drug response prediction, two data modalities, which are gene expressions and drug descriptors, are used as inputs. Gene expression profiles of cancer models and drug descriptor profiles of drugs are converted into image representations, and then input into CNNs for reponse modeling.


## Data sources
The data sources to support the cross-study analysis are CCLE, CTRP, GDSC1, GDSC2, and GCSI studies. Drug response data are retrieved from these studies. Gene expression data of cell lines are retrieved from CCLE. Drug descriptors are calculated using the Mordred package. 


## Data and preprocessing
Drug response data are retrieved from CCLE, CTRP, GDSC1, GDSC2, and GCSI studies. Multi-dose response data with replicates are processed to generate the area under the dose response curve (AUC), which is taken as the treatment efficacy measure. Gene expression data of cell lines are extracted from CCLE and log2 transformed TPM values are generated. Numeric descriptors of drugs are calculated using the Mordred package. Refer to [Data](Data.md) for more information regarding the data and processing scripts to generate data for model training and testing.


## Evaluation
There are two evaluation schemes supported by the data files generated by the preprocessing script `Preprocessing_for_CSA.py`. The first evaluation scheme does cross-validation analysis within a dataset. The second evaluation scheme can train a prediction model on one dataset and test its performance on another dataset. In both evaluation schemes, cell lines and drugs are shared between training, validation, and testing sets.


## URLs
- Original GitHub: https://github.com/zhuyitan/IGTD
- IMPROVE GitHub: https://github.com/JDACS4C-IMPROVE/IGTD
- Data: https://ftp.mcs.anl.gov/pub/candle/public/improve/model_curation_data/IGTD/


## Reference
Zhu, Y. et al. Converting tabular data into images for deep learning with convolutional neural networks. Sci Rep 11, 11325 (2021). https://doi.org/10.1038/s41598-021-90923-y
